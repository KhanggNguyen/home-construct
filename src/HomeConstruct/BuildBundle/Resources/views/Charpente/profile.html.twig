{% extends "@HomeConstructBuild/GrosOeuvre/base-forms-profiles-grosOeuvre.html.twig" %}

{% block content %}
    {% block button_return %}
        {{ parent() }}
    {% endblock button_return %}

    {% block sub_content %}
        <div class="block_profile_with_estimation">
            <div class="col-lg-9 g-mb-50">
                <!-- Info -->
                <div class="g-brd-around g-brd-gray-light-v4 rounded g-pa-30 g-mb-30">
                    <div class="row">
                        <div class="col-12">
                            <span class="d-block">
                                Type :
                            <b>
                                {% if charpente.type is defined and charpente.type is not null %}
                                    {{ charpente.type.nom }}
                                {% else %}
                                    Non renseigné
                                {% endif %}
                            </b>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <span class="d-block">
                                Prix du type :
                            <b>
                                {% if charpente.type is defined and charpente.type is not null %}
                                    {{ charpente.type.prix |number_format(2, ',', ' ') }} €/m²
                                {% else %}
                                    Non renseigné
                                {% endif %}
                            </b>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <span class="d-block">
                                Forme :
                            <b>
                                {% if charpente.forme is defined and charpente.forme is not null %}
                                    {{ charpente.forme.nom }}
                                {% else %}
                                    Non renseigné
                                {% endif %}
                            </b>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <span class="d-block">
                                Tarif de la main d'oeuvre :
                            <b>
                                {% if charpente.tarifMainDoeuvre is defined and charpente.tarifMainDoeuvre is not null %}
                                    {{ charpente.tarifMainDoeuvre|number_format(2, ',', ' ') }}€/m²
                                {% else %}
                                    Non renseigné
                                {% endif %}
                            </b>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <span class="d-block">
                                Prix total :
                            <b>
                                {% if charpente.prix is defined and charpente.prix is not null %}
                                    {{ charpente.prix |number_format(2, ',', ' ') }} €
                                {% else %}
                                    Non renseigné
                                {% endif %}
                            </b>
                            </span>
                        </div>
                    </div>
                    <div class="text-center">
                        <a id="button_next"
                           class=" btn btn-xl u-btn-lightblue-v3 g-width-160--md g-font-size-default g-ml-10"
                           href="{{ path('home_construct_charpente_edit',{'idCharpente':charpente.id}) }}" data-speed="350">
                            Modifier
                            <div  class="fas fa-pencil"></div>
                        </a>
                    </div>
                </div>
                <!-- End Info -->
            </div>
            <div class="block_estimation_prix">
                <h4 class="titre_estimation text-center">
                    Estimation
                </h4>
                <h6> <I> Données utilisées : </I></h6>
                <ul class="liste_variables_estimation">
                    <h5 class="titre_sous_entite">
                        <a class="link_sous_entite" href="{{ path('home_construct_charpente_profile',{'id':charpente.id}) }}">
                            Informations sur la charpente :
                        </a>
                    </h5>
                    <li>
                        {% if charpente.type is defined and charpente.type is not null %}
                            <i class="fas fa-check-circle variable-presente"></i>
                            Prix du type de la charpente : <b>{{ charpente.type.prix |number_format(2, ',', ' ') }} €</b>
                        {% else %}
                            <i class="fas fa-times variable-non-presente"></i>
                            Prix du type de la charpente : <b><I> Non renseigné </I></b>
                        {% endif %}
    
                    </li>
                    <li>
                        {% if charpente.tarifMainDoeuvre is defined and charpente.tarifMainDoeuvre  is not null %}
                            <i class="fas fa-check-circle variable-presente"></i>
                            Tarif de la main d'oeuvre : <b>{{ charpente.tarifMainDoeuvre|number_format(2, ',', ' ') }}€</b>
                        {% else %}
                            <i class="fas fa-times variable-non-presente"></i>
                            Tarif de la main d'oeuvre : <b><I>Non renseigné</I></b>
                        {% endif %}
                    </li>
                    <h5 class="titre_sous_entite">
                        <a class="link_sous_entite" href="{{ path('home_construct_toiture_profile',{'id':charpente.toiture.id}) }}">
                            Informations sur la toiture :
                        </a>
                    </h5>
                    <li>
                        {% if charpente.toiture.m2 is defined and charpente.toiture.m2 is not null %}
                            <i class="fas fa-check-circle variable-presente"></i>
                            Nombre de mètre(s) carré de la toiture : <b>{{ charpente.toiture.m2  }}m²</b>
                        {% else %}
                            <i class="fas fa-times variable-non-presente"></i>
                            Nombre de mètre(s) carré de la toiture : <b><I>Non renseigné</I></b>
                        {% endif %}
                    </li>
                </ul>
                {% if charpente.prix is defined and charpente.prix is not null %}
                <div class="block_affichage_prix text-center font-weight-bold g-font-size-30 border-dark border">
                        {{ charpente.prix |number_format(2, ',', ' ') }} €
                </div>
                    {% else %}
                    <I>
                        Pour pouvoir estimer un prix total veuillez ajouter les entités manquantes (marquées d'une croix rouge)
                    </I>
                {% endif %}
            </div>
        </div>
    {% endblock sub_content %}

{% endblock content %}

